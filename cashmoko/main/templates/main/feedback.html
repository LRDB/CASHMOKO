<!-- 
Main Reference:
https://www.bootdey.com/snippets/view/bs5-edit-profile-account-details
-->

{% extends 'main/userpage.html' %}

{% block stylesheet %}
"static/main/profile.css"
{% endblock %}


{% block title %}
Profile
{% endblock %}

{% block content %}

    <div class="container-xll px-5 mt-3">
        <div class="row">
            <div class="col-xl-5">
                <!-- Account details card-->
                <div class="card mb-4 full-height">
                    <div class="card-header"><h1>Feedback</h1></div>
                    <div class="card-body">
                        <form method="POST" action="feedback">
                            {% csrf_token %}
                            <!-- Form Group (Title)-->
                            <div class="mb-3">
                                <label class="large mb-1" for="subject">Subject</label>
                                <input class="form-control" id="subject" name="subject" type="text">
                            </div>
                            <!-- Form Group (Concern)-->
                            <div class="mb-3">
                                <label class="large mb-1" for="concern">Concern</label>
                                <textarea rows="30" cols="15" class="form-control" id="concern" name="concern"></textarea>
                            </div>

                            <!-- Save changes button-->
                            <div class="buttons">
                                <div class="m-4">
                                <a href="{% url 'feedback' %}"><button class="btn btn-primary sb" type="submit">Submit</button></a>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
    
            <div class="col-xl-7 full-height">
                <!-- Account details card-->
                <div class="card mb-4 full-height">
                    <div class="card-header"><h1>Feedback History</h1></div>

                    <div class="card" style="width: auto; overflow-y: auto;">
                    <ul class="list-group list-group-flush">
                        {% for item in feedback %}
                            {% if item.resolved == "False" %}
                                <li class="list-group-item" style="padding: 2.5rem;">
                                    <h3>{{item.title}}</h3>
                                    <strong>Published on:</strong> {{item.date}} <br>
                                    <strong>Content:</strong> {{item.content}} <br>
                                    <strong>Resolved:</strong> {{item.resolved}}
                                </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}